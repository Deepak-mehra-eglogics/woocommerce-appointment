jQuery(function(i){"use strict";var d={init:function(){i(".wc-appointments-appointment-form").each(function(){var a=i(this).closest("form"),o=a.find(".picker:eq(0)");a.on("addon-duration-changed",function(t,e){var n=parseInt(o.attr("data-appointment_duration"),10),i=parseInt(e,10),n=parseInt(n+i,10);o.data("combined_duration",n),o.data("addon_duration",e),d.highlight_months(a)}),d.month_picker_init(a)})},month_picker_init:function(e){var t=e.find(".picker:eq(0)"),n=t.attr("data-is_autoselect");t.on("click","a",function(t){t.preventDefault();t=i(this).parent().data("slot");d.set_selected_month(e,t)}),null!==wca_get_querystring("date")?0<(t=t.find('li.slot a[data-value="'+wca_get_querystring("date")+'"]').not(".slot_empty")).length?(t.trigger("click"),d.highlight_months(e)):d.autoselect_first_available_month(e):n&&d.autoselect_first_available_month(e)},set_selected_month:function(t,e){var n=t.find(".wc-appointments-appointment-form-button"),i=t.find(".picker:eq(0)"),a=t.find(".picker:eq(0)").parent("div").find("input"),e=i.find('[data-slot="'+e+'"]'),o=e.find("a").data("value");a.val(o),n.prop("disabled",!0),t.triggerHandler("month-selected"),i.find("li").removeClass("selected"),e.addClass("selected"),d.highlight_months(t)},autoselect_first_available_month:function(t){var e=t.find(".picker:eq(0)").find('li.slot:not(".slot_empty,.fully_scheduled"):first');0<e.length&&e.has("a")&&(e.find("a").trigger("click"),d.highlight_months(t))},highlight_months:function(t){var t=t.find(".picker:eq(0)"),e=t.find("li.selected").not(".slot_empty"),n=t.attr("data-appointment_duration"),n=t.data("combined_duration")?t.data("combined_duration"):n,n=n<1?1:n,i=n-1;0<n&&(t.find("li").removeClass("selected-month"),e.nextAll().slice(0,i).addClass("selected-month"))}};d.init()});