jQuery(function(g){"use strict";var v={init:function(){g("#appointments_availability, #appointments_pricing").on("change",".wc_appointment_availability_type select, .wc_appointment_availability_type input, .wc_appointment_pricing_type select",this.wc_appointments_table_grid),g("#appointments_availability, #appointments_pricing, #appointments_products").on("focus","select, input, button",this.wc_appointments_table_grid_focus),g("body").on("row_added",this.wc_appointments_row_added),g("body").on("woocommerce-product-type-change",this.wc_appointments_trigger_change_events),g("input#_virtual").on("change",this.wc_appointments_trigger_change_events),g("input#_downloadable").on("change",this.wc_appointments_trigger_change_events),g("#_wc_appointment_user_can_cancel").on("change",this.wc_appointments_user_cancel),g("#_wc_appointment_user_can_reschedule").on("change",this.wc_appointments_user_reschedule),g("#product-type").on("change",this.wc_appointments_inventory_show),g("#product-type").on("change",this.wc_appointments_disable_hide),g("#product-type").on("change",this.wc_appointments_addon_style),g("#product-type").on("change",this.wc_appointments_virtual_default),g("#product_addons_data").on("click",".wc-pao-addon-adjust-duration",this.wc_appointments_addon_adjust_duration),g("#product_addons_data").on("change","select.wc-pao-addon-type-select",this.wc_appointments_addon_type),g("#product_addons_data").on("change","select.wc-pao-addon-type-select",this.wc_appointments_addon_label),g("#_wc_appointment_qty").on("change",this.wc_appointments_qty),g("#_wc_appointment_qty_min").on("change",this.wc_appointments_qty_min),g("#_wc_appointment_qty_max").on("change",this.wc_appointments_qty_max),g("body").on("change",".appointments-datetime-select-from :input, .appointments-datetime-select-to :input",this.wc_appointments_rule_range_change),g("#_wc_appointment_has_price_label").on("change",this.wc_appointments_price_label),g("#_wc_appointment_has_pricing").on("change",this.wc_appointments_pricing),g("#_wc_appointment_staff_assignment").on("change",this.wc_appointments_staff_assignment),g("#_wc_appointment_duration_unit").on("change",this.wc_appointment_duration_unit),g("#_wc_appointment_has_restricted_days").on("change",this.wc_appointment_restricted_days),g(".add_grid_row").on("click",this.wc_appointments_table_grid_add_row),g("body").on("click",".remove_grid_row",this.wc_appointments_table_grid_remove_row),g("body").on("click",".manual_sync",this.wc_appointments_manual_sync),g("body").on("click",".oauth_redirect",this.wc_appointments_oauth_redirect),g("#appointments_staff").on("click","button.add_staff",this.wc_appointments_add_staff),g("#appointments_staff").on("click","button.remove_appointment_staff",this.wc_appointments_remove_staff),g("#appointments_products").on("click","button.add_product",this.wc_appointments_add_product),g("#appointments_products").on("click","td.remove_product",this.wc_appointments_remove_product),g("body").on("click","a.edit_billing",this.wc_appointments_edit_billing),v.wc_appointments_trigger_change_events(),v.wc_appointments_price_show(),v.wc_appointments_inventory_show(),v.wc_appointments_disable_hide(),v.wc_appointments_addon_style(),v.wc_appointments_virtual_default(),v.wc_appointments_sortable_rows(),v.wc_appointments_pickers(),v.wc_appointments_twilio_sms(),v.wc_appointments_exporter_title_action(),v.wc_appointments_add_appointment_actions()},wc_appointments_rule_range_change:function(){var t,e,n,a,i,o,_,p,s=g(this),c=s.val(),r=parseFloat(c.replace(/-/g,"").replace(/:/g,"."),10),d=s.attr("class"),l=s.closest(".range_from").length?"from":"to",m="from"==l?"to":"from",w=s.closest("tr").find(".range_type select").val(),m=s.closest("tr").find(".appointments-datetime-select-"+m).find('[class^="'+d+'"]'),d=m.val(),d=parseFloat(d.replace(/-/g,"").replace(/:/g,"."),10),u="from"==l?s:m,f="from"==l?r:d,h="to"==l?s:m,r="to"==l?r:d;return d?"custom:daterange"===w||"time:range"===w?(t=(d=s.closest("tr").find(".from_date input")).val(),t=parseFloat(t.replace(/-/g,"")),e=(_=s.closest("tr").find(".from_time input")).val(),e=parseFloat(e.replace(/:/g,".")),a=(n=s.closest("tr").find(".to_date input")).val(),a=parseFloat(a.replace(/-/g,"")),i=(p=s.closest("tr").find(".to_time input")).val(),i=parseFloat(i.replace(/:/g,".")),o="to"==l?p:_,_="to"==l?_:p,p="to"==l?n:d,d="to"==l?d:n,s.hasClass("time-picker")?"time:range"===w&&i<e||a<=t&&i<e?v.wc_appointments_input_animate(o,_,!0):a<t?v.wc_appointments_input_animate(o,d,!0):v.wc_appointments_input_animate(o,_):s.hasClass("date-picker")&&("time:range"===w&&i<e?v.wc_appointments_input_animate(p,_,!0):a<t?v.wc_appointments_input_animate(p,d,!0):i<e&&t===a?v.wc_appointments_input_animate(p,_,!0):v.wc_appointments_input_animate(p))):r<f?"from"==l?(h.val(c),v.wc_appointments_input_animate(s,h)):v.wc_appointments_input_animate(s,u,!0):v.wc_appointments_input_animate(s):(m.val(c),v.wc_appointments_input_animate(s,m)),!1},wc_appointments_input_animate:function(t,e,n){t.parents("tr").find("select, input").stop().css({outlineWidth:"0"}),e&&(e.stop().css({outlineWidth:"0"}),n?e.stop().css({outlineOffset:"-1px",outlineStyle:"solid",outlineColor:"red",outlineWidth:"1px"}):e.stop().css({outlineOffset:"-1px",outlineStyle:"solid",outlineColor:"black",outlineWidth:"1px"}).animate({outlineWidth:"0"},500,"linear"))},wc_appointments_pickers:function(){return g(".date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showOtherMonths:!0,changeMonth:!0,showButtonPanel:!0,showOn:"button",firstDay:wc_appointments_writepanel_js_params.firstday,buttonText:"☶"}),g("#_wc_appointment_cal_color").wpColorPicker(),!1},wc_appointments_table_grid:function(){var t=g(this).val(),e=g(this).closest("tr"),e=g(e);return e.find(".from_date, .from_day_of_week, .from_month, .from_week, .from_time, .from").hide(),e.find(".to_date, .to_day_of_week, .to_month, .to_week, .to_time, .to, .on_date").hide(),e.find(".repeating-label").hide(),e.find(".appointments-datetime-select-to").removeClass("appointments-datetime-select-both"),e.find(".appointments-datetime-select-from").removeClass("appointments-datetime-select-both"),e.find(".rrule").hide(),"custom"===t&&e.find(".from_date, .to_date").show(),"custom:daterange"===t&&(e.find(".from_time, .to_time").show(),e.find(".from_date, .to_date").show(),e.find(".appointments-datetime-select-to").addClass("appointments-datetime-select-both"),e.find(".appointments-datetime-select-from").addClass("appointments-datetime-select-both")),"months"===t&&e.find(".from_month, .to_month").show(),"weeks"===t&&e.find(".from_week, .to_week").show(),"days"===t&&e.find(".from_day_of_week, .to_day_of_week").show(),t.match("^time")&&(e.find(".from_time, .to_time").show(),"time:range"===t)&&(e.find(".from_date, .to_date").show(),e.find(".repeating-label").show(),e.find(".appointments-datetime-select-to").addClass("appointments-datetime-select-both"),e.find(".appointments-datetime-select-from").addClass("appointments-datetime-select-both")),"duration"!==t&&"slots"!==t&&"quant"!==t||e.find(".from, .to").show(),"rrule"===t&&e.find(".rrule").show(),!1},wc_appointments_table_grid_focus:function(t){var e=g("body"),n=g(this).closest("table, tbody"),a=g(this).closest("tr");return("focus"===t.type||"focusin"===t.type||"click"===t.type&&g(this).is(":focus"))&&(g("tr",n).removeClass("current").removeClass("last_selected"),a.addClass("current").addClass("last_selected"),e.addClass("row_highlighted")),!1},wc_appointments_sortable_rows:function(){return g("#availability_rows, #pricing_rows").sortable({items:"tr",cursor:"move",axis:"y",handle:".sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:{element:function(){return g('<tr class="wc-metabox-sortable-placeholder"><td colspan=99>&nbsp;</td></tr>')[0]},update:function(){}},start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.prop("style",!1),e.item.show()}}),g(".woocommerce_appointable_staff").sortable({items:".woocommerce_appointment_staff",cursor:"move",axis:"y",handle:"h3",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.prop("style",!1),v.staff_row_indexes()}}),!1},wc_appointments_row_added:function(){return g(".wc_appointment_availability_type select, .wc_appointment_pricing_type select").trigger("change"),g(".date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showOtherMonths:!0,changeMonth:!0,showButtonPanel:!0,showOn:"button",firstDay:wc_appointments_writepanel_js_params.firstday,buttonText:"☶"}),!1},wc_appointments_trigger_change_events:function(){return g(".wc_appointment_availability_type select, .wc_appointment_availability_type input, .wc_appointment_pricing_type select, #_wc_appointment_user_can_cancel, #_wc_appointment_user_can_reschedule, #_wc_appointment_has_price_label, #_wc_appointment_has_pricing, #_wc_appointment_duration_unit, #_wc_appointment_staff_assignment, #_stock, #_wc_appointment_qty, #_wc_appointment_qty_min, #_wc_appointment_qty_max, #_wc_appointment_has_restricted_days").trigger("change"),!1},wc_appointments_user_cancel:function(){return g(this).is(":checked")?g(".form-field.appointment-cancel-limit").show():g(".form-field.appointment-cancel-limit").hide(),!1},wc_appointments_user_reschedule:function(){return g(this).is(":checked")?g(".form-field.appointment-reschedule-limit").show():g(".form-field.appointment-reschedule-limit").hide(),!1},wc_appointments_qty:function(){var t=parseInt(g(this).val(),10),e=parseInt(g("#_wc_appointment_qty_min").val(),10);return 1<t?(g(".form-field._wc_appointment_customer_qty_wrap").show(),g("#_wc_appointment_qty_min").prop("max",t)):g(".form-field._wc_appointment_customer_qty_wrap").hide(),t<e&&g("#_wc_appointment_qty_min").val(t),!1},wc_appointments_qty_min:function(){var t=parseInt(g(this).val(),10);return parseInt(g("#_wc_appointment_qty_max").val(),10)<t&&g("#_wc_appointment_qty_max").val(t),!1},wc_appointments_qty_max:function(){var t=parseInt(g(this).val(),10);return t<parseInt(g("#_wc_appointment_qty_min").val(),10)&&g("#_wc_appointment_qty_min").val(t),!1},wc_appointments_price_show:function(){return"appointment"===g("select#product-type").val()&&(g(".options_group.pricing").show(),g(".options_group.wcpbc_pricing").show()),g(".options_group.pricing").addClass("show_if_appointment"),g(".options_group.wcpbc_pricing").addClass("show_if_appointment"),!1},wc_appointments_inventory_show:function(){return"appointment"===g("select#product-type").val()&&(g(".stock_fields").hide(),g(".stock_fields").addClass("hide_if_appointment"),g("._stock_status_field").hide(),g("._stock_status_field").addClass("hide_if_appointment"),g("._sold_individually_field").parents(".options_group").show(),g("._sold_individually_field").parents(".options_group").addClass("show_if_appointment"),g("#inventory_product_data ._sold_individually_field").show(),g("#inventory_product_data ._sold_individually_field").addClass("show_if_appointment")),!1},wc_appointments_disable_hide:function(){var t=g("select#product-type").val();return"appointment"!==t&&void 0!==t?g("body").find(".disabled_if_appointment").prop("hidden",!1).prop("disabled",!1):g("body").find(".disabled_if_appointment").prop("hidden",!0).prop("disabled",!0),!1},wc_appointments_addon_style:function(){var t=g("select#product-type").val();return"appointment"!==t&&void 0!==t?g("body").removeClass("style_if_appointment"):g("body").addClass("style_if_appointment"),!1},wc_appointments_virtual_default:function(){var t=g("select#product-type").val(),e=g("body").find("input#_virtual"),n=g("body").hasClass("post-new-php"),a=e.attr("checked");return n&&("appointment"===t||"checked"===a?e.prop("checked",!0):e.prop("checked",!1)),!1},wc_appointments_twilio_sms:function(){return g(".wc_twilio_sms_enable").each(function(){var t=g(this).data("notification");g(this).on("change",function(){g(this).is(":checked")?(g("input#wc_twilio_sms_appointments_"+t+"_recipients").closest("tr").show(),g("input#wc_twilio_sms_appointments_"+t+"_schedule_number").closest("tr").show(),g("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("tr").show()):(g("input#wc_twilio_sms_appointments_"+t+"_recipients").closest("tr").hide(),g("input#wc_twilio_sms_appointments_"+t+"_schedule_number").closest("tr").hide(),g("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("tr").hide())}).trigger("change")}),g("#wc-twilio-sms-appointments-data .wc-metaboxes-wrapper").on("click",".expand_all",function(){return g(this).closest(".wc-metaboxes-wrapper").find(".wc-metabox > .wc-metabox-content").show(),!1}).on("click",".close_all",function(){return g(this).closest(".wc-metaboxes-wrapper").find(".wc-metabox > .wc-metabox-content").hide(),!1}),g(".wc_twilio_sms_notification_toggle").each(function(){var t=g(this).data("notification"),e=g("input#wc_twilio_sms_appointments_"+t+"_schedule_number");g(this).on("change",function(){"override"===g(this).find("option:selected").val()?(e.closest("p").show(),e.closest("p").next(".wc-twilio-sms-post-field").show(),g("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("p").show()):(e.closest("p").hide(),e.closest("p").next(".wc-twilio-sms-post-field").hide(),g("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("p").hide())}).trigger("change")}),!1},wc_appointments_addon_adjust_duration:function(){g(this).is(":checked")?g(this).parents(".wc-pao-addon-adjust-duration-container").find(".wc-pao-addon-adjust-duration-settings").removeClass("hide").addClass("show"):g(this).parents(".wc-pao-addon-adjust-duration-container").find(".wc-pao-addon-adjust-duration-settings").removeClass("show").addClass("hide")},wc_appointments_addon_type:function(){var t=g(this).val(),e=g(this).parents(".wc-pao-addon");switch(t){case"multiple_choice":case"checkbox":e.find(".wc-pao-addon-hide_duration-setting").removeClass("hide").addClass("show"),e.find(".wc-pao-addon-hide_price-setting").removeClass("hide").addClass("show"),e.find(".wc-pao-addon-adjust-duration-container").removeClass("show").addClass("hide");break;case"heading":case"custom_price":e.find(".wc-pao-addon-adjust-duration-container").removeClass("show").addClass("hide");break;default:e.find(".wc-pao-addon-hide_duration-setting").removeClass("show").addClass("hide"),e.find(".wc-pao-addon-hide_price-setting").removeClass("show").addClass("hide"),e.find(".wc-pao-addon-adjust-duration-container").removeClass("hide").addClass("show")}return!1},wc_appointments_addon_label:function(){var t=g("select#product-type").val(),e=void 0!==t;return"appointment"!==t&&e?(g("body").removeClass("style_if_appointment"),g("body").removeClass("style_if_appointment")):(g("body").addClass("style_if_appointment"),g("body").addClass("style_if_appointment")),"appointment"!==t&&e?g(".show_if_appointment").hide():g(".show_if_appointment").show(),!1},wc_appointments_price_label:function(){return g(this).is(":checked")?g(".form-field._wc_appointment_price_label_field").show():g(".form-field._wc_appointment_price_label_field").hide(),!1},wc_appointments_pricing:function(){return g(this).is(":checked")?g("#appointments_pricing").show():g("#appointments_pricing").hide(),!1},wc_appointments_staff_assignment:function(){return"customer"===g(this).val()?(g(".form-field._wc_appointment_staff_label_field").show(),g(".form-field._wc_appointment_staff_nopref_field").show()):(g(".form-field._wc_appointment_staff_label_field").hide(),g(".form-field._wc_appointment_staff_nopref_field").hide()),!1},wc_appointment_duration_unit:function(){switch(g(this).val()){case"month":g(".form-field._wc_appointment_interval_duration_wrap").hide(),g(".form-field._wc_appointment_padding_duration_wrap").hide(),g(".form-field._wc_appointment_customer_timezones_field").hide();break;case"day":g(".form-field._wc_appointment_interval_duration_wrap").hide(),g(".form-field._wc_appointment_padding_duration_wrap").show(),g(".form-field._wc_appointment_customer_timezones_field").hide(),g('#_wc_appointment_padding_duration_unit option[value="minute"]').hide(),g('#_wc_appointment_padding_duration_unit option[value="hour"]').hide(),g('#_wc_appointment_padding_duration_unit option[value="day"]').show(),g("#_wc_appointment_padding_duration_unit").val("day");break;default:g(".form-field._wc_appointment_interval_duration_wrap").show(),g(".form-field._wc_appointment_padding_duration_wrap").show(),g(".form-field._wc_appointment_customer_timezones_field").show(),g('#_wc_appointment_padding_duration_unit option[value="minute"]').show(),g('#_wc_appointment_padding_duration_unit option[value="hour"]').show(),g('#_wc_appointment_padding_duration_unit option[value="day"]').hide()}return!1},wc_appointment_restricted_days:function(){return g(this).is(":checked")?g(".appointment-day-restriction").show():g(".appointment-day-restriction").hide(),!1},wc_appointments_table_grid_add_row:function(t){var e=g(t.target).closest("table").find("#pricing_rows tr").length,n=g(this).data("row");return n=(n=(n=(n=(n=(n=(n=n.replace(/appointments_cost_js_index_replace/gi,e.toString())).replace(/wc_appointment_availability_id.+/,'wc_appointment_availability_id[]" value="" />')).replace(/wc_appointment_availability_kind_id.+/,'wc_appointment_availability_kind_id[]" value="" />')).replace(/wc_appointment_availability_event_id.+/,'wc_appointment_availability_event_id[]" value="" />')).replace(/data-id=.+/,'data-id="">')).replace(/wc_appointment_availability_title.+/,'wc_appointment_availability_title[]" value="" />')).replace(/wc_appointment_availability_priority.+/,'wc_appointment_availability_priority[]" value="10" placeholder="10" />'),g(t.target).closest("table").find("tbody").append(n),g("body").trigger("row_added"),!1},wc_appointments_table_grid_remove_row:function(t){var t=g(t.target).closest("tr"),e=t.data("id"),n=g(".wc-appointment-availability-deleted").val(),n=n+(n?", ":"")+e;return g(".wc-appointment-availability-deleted").val(n),t.remove(),!1},wc_appointments_manual_sync:function(){var e=g(this).closest("td"),t=g(this).attr("data-staff"),t=(g(e).block({message:null}),{action:"woocommerce_manual_sync",staff_id:t,security:wc_appointments_writepanel_js_params.nonce_manual_sync});g.post(wc_appointments_writepanel_js_params.ajax_url,t,function(t){t.error?alert(t.error):g(".last_synced").html(t.html),g(e).unblock()})},wc_appointments_oauth_redirect:function(){var e=g(this).closest("td"),t=g(this).attr("data-staff"),n=g(this).attr("data-logout"),t=(g(e).block({message:null}),{action:"woocommerce_oauth_redirect",staff_id:t,logout:n,security:wc_appointments_writepanel_js_params.nonce_oauth_redirect});g.post(wc_appointments_writepanel_js_params.ajax_url,t,function(t){t.error?alert(t.error):top.location.replace(t.uri),g(e).unblock()})},wc_appointments_add_staff:function(){var t=g(".woocommerce_appointment_staff").length,e=parseInt(g("select#add_staff_id").val(),10),t=(g(".woocommerce_appointable_staff").block({message:null}),{action:"woocommerce_add_appointable_staff",post_id:wc_appointments_writepanel_js_params.post,loop:t,add_staff_id:e,add_staff_name:"",security:wc_appointments_writepanel_js_params.nonce_add_staff});return g.post(wc_appointments_writepanel_js_params.ajax_url,t,function(t){t.error?(alert(t.error),g(".woocommerce_appointable_staff").unblock()):(g(".woocommerce_appointable_staff").append(t.html).unblock(),g(".woocommerce_appointable_staff").sortable("refresh"))}),!1},wc_appointments_remove_staff:function(t){var e;return t.preventDefault(),confirm(wc_appointments_writepanel_js_params.i18n_confirmation)&&(e=g(this).parent().parent(),t=g(this).attr("rel"),g(e).block({message:null}),t={action:"woocommerce_remove_appointable_staff",post_id:wc_appointments_writepanel_js_params.post,staff_id:t,security:wc_appointments_writepanel_js_params.nonce_delete_staff},g.post(wc_appointments_writepanel_js_params.ajax_url,t,function(){g(e).fadeOut("300",function(){g(e).remove()})})),!1},wc_appointments_add_product:function(){var e=parseInt(g("select#add_product_id").val(),10),t=parseInt(g("select#add_product_id").attr("data-staff")),n=g("#wc_appointments_staff_product_ids").val(),t=(g(".woocommerce_staff_products").block({message:null}),{action:"woocommerce_add_staff_product",staff_id:t,assigned_products:n,add_product_id:e,add_product_name:"",security:wc_appointments_writepanel_js_params.nonce_add_product});return g.post(wc_appointments_writepanel_js_params.ajax_url,t,function(t){t.error?(alert(t.error),g(".woocommerce_staff_products").unblock()):(g(".woocommerce_staff_products").append(t.html).unblock(),g("#wc_appointments_staff_product_ids").val(n+","+e))}),!1},wc_appointments_remove_product:function(t){var e,n,a;return t.preventDefault(),confirm(wc_appointments_writepanel_js_params.i18n_confirmation)&&(e=g(this).parent(),t=g(this).attr("data-product"),n=g(this).attr("data-staff"),a=g("#wc_appointments_staff_product_ids").val().replace(new RegExp(",?"+t+",?"),function(t){var e=","===t.charAt(0),t=","===t.charAt(t.length-1);return e&&t?",":""}),g("#wc_appointments_staff_product_ids").val(a),g(e).block({message:null}),a={action:"woocommerce_remove_appointable_staff",post_id:t,staff_id:n,security:wc_appointments_writepanel_js_params.nonce_delete_staff},g.post(wc_appointments_writepanel_js_params.ajax_url,a,function(){g(e).fadeOut("300",function(){g(e).remove()})})),!1},staff_row_indexes:function(){return g(".woocommerce_appointable_staff .woocommerce_appointment_staff").each(function(t,e){g(".staff_menu_order",e).val(parseInt(g(e).index(".woocommerce_appointable_staff .woocommerce_appointment_staff"),10))}),!1},wc_appointments_exporter_title_action:function(){var t=g(".edit-php.post-type-wc_appointment"),e=t.find(".page-title-action:first");0===t.find(".woocommerce-BlankState").length?wc_appointments_writepanel_js_params.exporter.permission&&e.after('<a href="'+wc_appointments_writepanel_js_params.exporter.url+'" class="page-title-action">'+wc_appointments_writepanel_js_params.exporter.string+"</a>"):e.hide()},wc_appointments_add_appointment_actions:function(){g("#appointment_order_id").filter(":not(.enhanced)").each(function(){var t={allowClear:!0,placeholder:g(this).data("placeholder"),minimumInputLength:1,escapeMarkup:function(t){return t},ajax:{url:wc_appointments_writepanel_js_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t.term,action:"wc_appointments_json_search_order",security:wc_appointments_writepanel_js_params.nonce_appointment_order}},processResults:function(t){var n=[];return t&&g.each(t,function(t,e){n.push({id:t,text:e})}),{results:n}},cache:!0},multiple:!1};g(this).select2(t).addClass("enhanced")}),g(function(){var t=g(".appointment-order-label-select"),e=g("tr.billing_row");g(".appointment-order-selector").on("change",function(){"existing"===g(this).val()?(t.show(),e.hide()):(t.hide(),e.show())})})},wc_appointments_edit_billing:function(t){t.preventDefault();var t=g(this),e=t.closest(".billing_row"),n=e.find("div.edit_billing"),e=e.find("p.none_set"),a=n.find(".js_field-country"),i=n.find(".js_field-state");return t.parent().find("a").toggle(),a.val()||(a.val(wc_appointments_writepanel_js_params.billing.default_country).trigger("change"),i.val(wc_appointments_writepanel_js_params.billing.default_state).trigger("change")),e.toggle(),n.toggle(),!1}};v.init()});